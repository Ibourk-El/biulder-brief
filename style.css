* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  /* transition: all 1s; */
}

:root {
  --height: 11vmin;
}

body {
  overflow: hidden;
}
.container {
  --mode-color-1: #bf7b54;
  --mode-color-2: #733f34;
  --mode-color-3: #1b1a26;
  --mode-color-4: #051b24;
  --sideColor: #363c7d;
  --topColor: #d98f4e;
  --roof-color: #593b3b;
  --win-close-1: #8c2f1b;
  --win-close-2: #d98f4e;
  --line-color: #bc2f1b;
  --bush: #181b38;
  --glass-door: #17476b90;
}
.container {
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 1000px;
  background-image: linear-gradient(
    to top,
    var(--mode-color-1),
    var(--mode-color-2),
    var(--mode-color-3),
    var(--mode-color-4)
  );
  position: relative;
}

.stars {
  width: 100%;
  height: 60%;
  top: -100%;
  position: absolute;
  animation: starsAnimation 2s 1s forwards;
  /* background-color: transparent; */
  background-repeat: repeat-x;
  background-size: 10% 10%;
}

@keyframes starsAnimation {
  0% {
    top: -100%;
  }
  100% {
    top: 0%;
  }
}
.container .building {
  width: 60%;
  position: relative;
  height: 100%;
  bottom: 2vmin;
  transform-style: preserve-3d;
  transform: rotateX(-9deg) rotateY(-10deg);
}

.stage {
  width: 32.5vmin;
  height: var(--height);
  position: absolute;
  transform-style: preserve-3d;
  left: 0;
  bottom: 0;
}
.stage.one {
  bottom: calc(var(--height) * 1);
}
.stage.two {
  bottom: calc(var(--height) * 2);
}
.stage.three {
  bottom: calc(var(--height) * 3);
}
.stage.four {
  bottom: calc(var(--height) * 4);
}
.stage.five {
  bottom: calc(var(--height) * 5);
}
.stage.six {
  bottom: calc(var(--height) * 6);
}
.stage .side {
  width: 100%;
  height: 100%;
  position: absolute;
  transform-style: preserve-3d;
  display: flex;
  align-items: center;
  justify-content: center;
}
.stage .side.front {
  transform: rotateY(0deg) translateZ(16.2vmin);
  border-bottom: 5px solid var(--line-color);
}
.stage .side.back {
  transform: rotateY(180deg) translateZ(16.2vmin);
  border-bottom: 5px solid var(--line-color);
  background-image: repeating-conic-gradient(
      var(--bush) 0deg 45deg,
      var(--line-color) 45deg 90deg
    ),
    repeating-conic-gradient(
      var(--bush) 90deg 135deg,
      var(--line-color) 135deg 270deg
    );
  background-size: 50% 50%, 50% 50%;
}

.stage .side.left {
  transform: rotateY(90deg) translateZ(-16.2vmin);
  border-bottom: 5px solid var(--line-color);
}
.stage .side.right {
  transform: rotateY(270deg) translateZ(-16.2vmin);
  border-bottom: 5px solid var(--line-color);
}

/* roof */
.stage .side.top {
  width: 35vmin;
  height: 35vmin;
  transform: rotateX(90deg) translateZ(17.5vmin) translateX(-3%);
  background-color: var(--roof-color);
  display: block;
  transform-style: preserve-3d;
}
.stage .side.top::after {
  content: "";
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  background-image: radial-gradient(
    circle,
    #ffff00 0% 3%,
    #636302 3%,
    #fff0 10% 20%
  );
  background-size: 20% 30%;
  backface-visibility: hidden;
  transform: rotateX(180deg);
}
.stage .side.top .face {
  width: 100%;
  height: 4vmin;
  border-top: 5px solid var(--topColor);
  border-bottom: 5px solid var(--topColor);
  transform: rotateX(90deg);
  background-image: repeating-conic-gradient(
      var(--bush) 0deg 45deg,
      var(--line-color) 45deg 90deg
    ),
    repeating-conic-gradient(
      var(--bush) 90deg 135deg,
      var(--line-color) 135deg 270deg
    );
  background-size: 5% 100%, 5% 100%;
}

.stage .side.top .face.front {
  transform: rotateX(90deg) translateZ(-24.9vmin) translateY(49%);
}
.stage .side.top .face.back {
  transform: rotateX(90deg) translateZ(14vmin) translateY(49%);
}
.stage .side.top .face.right {
  transform: rotateX(90deg) rotateY(90deg) translateZ(-17.4vmin) translateX(33%)
    translateY(53%);
}

.stage .side.top .face.left {
  transform: rotateX(90deg) rotateY(90deg) translateZ(17.5vmin) translateX(44%)
    translateY(49%);
}
/* door */
.stage .side.front .door {
  width: 50%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  border: 1vmin solid;
}

.stage .side.front .door::before,
.stage .side.front .door::after {
  position: absolute;
  content: "";
  width: 48%;
  height: 100%;
  background-color: var(--glass-door);
}
.stage .side.front .door::before {
  border-right: 2px solid white;
}
.stage .side.front .door::after {
  right: 0;
  border-left: 2px solid white;
}

.stage .side.front .door .door-side {
  position: absolute;
  width: 50%;
  height: calc(100% + 2vmin);
  background-color: var(--glass-door);
  border-radius: 100% 0 0 0;
}
.stage .side.front .door .door-side.left {
  transform: rotateY(90deg) translate3d(-60%, -1vmin, -4.4vmin);
}
.stage .side.front .door .door-side.right {
  transform: rotateY(90deg) translate3d(-60%, -1vmin, 12vmin);
}
.stage .side.front .door .door-side.top {
  width: calc(100% + 2vmin);
  transform: rotateX(90deg) translate3d(-0.76vmin, 50%, 6vmin);
  border-radius: 0 0 50% 50%;
}
/* wall */
.stage .wall {
  width: 100%;
  height: 100%;
  background-color: #051b24;
}
.stage .wall.one {
  transform: rotateY(90deg);
  background-color: #2c9bc7;
}
.stage .wall.two {
  transform: rotateY(0deg) translateY(-100%);
}

/* appartement */
.stage .side .appartement {
  width: 50%;
  height: 100%;
  background-color: var(--line-color);
  position: relative;
  border-left: 0.5vmin solid var(--line-color);
  border-right: 0.5vmin solid var(--line-color);
}
.stage .side .appartement .appa-door {
  display: inline-block;
  width: 5vmin;
  height: 100%;
  background-color: #eee;
  transform: translateX(10%);
  position: relative;
  border: 3px solid var(--roof-color);
}
.stage .side .appartement .appa-door::after,
.stage .side .appartement .appa-door::before {
  content: "";
  position: absolute;
  width: 20%;
  height: 40%;
  background-color: blue;
  left: 40%;
  top: 10%;
  transform: translateX(-100%);
}
.stage .side .appartement .appa-door::before {
  left: 80%;
}
/* stage one windows */

.stage.one .side .window {
  display: inline-block;
  width: 20%;
  height: 100%;
  border-left: 2.5px solid var(--line-color);
  border-right: 2.5px solid var(--line-color);
  position: relative;
}
.stage.one .side .window.close {
  display: inline-block;
  width: 20%;
  height: 100%;
  background-image: repeating-radial-gradient(
    var(--win-close-1) 0% 3%,
    var(--win-close-2) 3% 10%
  );
  background-size: 20% 10%;
}

/* appartement window  */
.stage .side .appartement .windows {
  width: 60%;
  height: 50%;
  position: absolute;
  top: 10%;
  left: 39%;
  display: flex;
}

.stage .side .appartement .windows .window {
  display: inline-block;
  width: 50%;
  height: 100%;
  border-left: 2.5px solid var(--line-color);
  border-right: 2.5px solid var(--line-color);
  position: relative;
}

.stage .side .appartement .window.close {
  display: inline-block;
  background-image: repeating-radial-gradient(
    var(--win-close-1) 0% 3%,
    var(--win-close-2) 3% 10%
  );
  background-size: 20% 10%;
}

.stage .side .appartement .window.small-light {
  background-image: repeating-conic-gradient(
    var(--win-close-1) 0% 8%,
    var(--line-color) 8% 10%,
    var(--win-close-2) 10% 18%
  );
  background-size: 100% 20%;
}

.stage .side .appartement .window.open {
  background-color: var(--glass-door);
}

.stage .side .appartement .window.half-open {
  background-color: var(--glass-door);
  position: relative;
}

.stage .side .appartement .window.half-open::after {
  content: "";
  height: 50%;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background-image: repeating-linear-gradient(
    0deg,
    var(--line-color) 0% 5%,
    var(--topColor) 5% 10%
  );
  background-size: 10% 10%;
}

.stage .side .appartement .window.curtains {
  background-color: var(--glass-door);
}
.stage .side .appartement .window.curtains::before,
.stage .side .appartement .window.curtains::after {
  content: "";
  position: absolute;
  width: 30%;
  height: 100%;
  top: 0;
  left: 0;
  background-image: repeating-radial-gradient(
    circle,
    var(--line-color) 0% 30%,
    var(--topColor) 30% 60%
  );
  background-size: 100% 10%;
}
.stage .side .appartement .window.curtains::after {
  left: 70%;
}

.stage.one .side.front .window {
  width: 25%;
}

/* input */

label,
input {
  font-weight: bolder;
  font-family: sans-serif;
  display: inline-block;
  margin-right: auto;
  position: fixed;
  bottom: 10%;
  right: 10%;
  background-color: var(--line-color);
  border: var(--topColor);
  padding: 10px;
  border-radius: 10px;
  color: white;
  line-height: 1.5em;
  z-index: 2;
  box-shadow: 0 0 10px 0;
}
input {
  z-index: -1;
}
/* change container var */
input:checked ~ .container {
  --mode-color-1: #f25c05;
  --mode-color-2: #f25c05;
  --mode-color-3: #bde3f2;
  --mode-color-4: #05adf0;
  --glass-door: #ebeff290;
}
input:checked ~ .container .stars {
  display: none;
}
/* bg */
.moon-sun {
  position: fixed;
  width: 50px;
  height: 50px;
  z-index: 2;
  right: 20%;
  top: 10%;
  border-radius: 50%;
  box-shadow: 0 0 5px 0 white, 0 0 10px 0 #fff, 0 0 15px 0 #fff, 0 0 20px 0 #fff,
    0 0 25px 0 #fff, 0 0 30px 0 #fff;
  animation: moonModeEffect 2s linear forwards;
}
input:checked ~ .moon-sun {
  box-shadow: 0 0 5px 0 #fafa01, 0 0 10px 0 #fcfc10, 0 0 15px 0 #f5f532,
    0 0 20px 0 #fafa01, 0 0 25px 0 #fcfc10, 0 0 30px 0 #f5f532;
  animation: sunModeEffect 2s linear forwards;
}

@keyframes sunModeEffect {
  0% {
    right: 20%;
    top: 10%;
  }
  50% {
    right: -50%;
    top: 100%;
    background-image: radial-gradient(circle, #dfdf03, #fdfd28);
  }
  100% {
    right: 20%;
    top: 10%;
    background-image: radial-gradient(circle, #dfdf03, #fdfd28);
  }
}
@keyframes moonModeEffect {
  0% {
  }
  50% {
    right: -50%;
    top: 100%;
    background-image: radial-gradient(circle, #fff, #afadad);
  }
  100% {
    right: 20%;
    top: 10%;
    background-image: radial-gradient(circle, #fff, #afadad);
  }
}
